(()=>{"use strict";(()=>{const e=document.getElementById("addNewProjectBtn"),t=document.getElementById("projectDisplayContainer"),n=document.getElementById("projectForm"),d=document.getElementById("projectName"),c=document.getElementById("projectSubmitBtn"),o=document.getElementById("projectCloseBtn"),s=document.getElementById("appTitle");let i=[];c.addEventListener("click",(e=>{e.preventDefault();const n=d.value.trim();""!==n&&((e=>{const n={text:e,id:Date.now()};i.push(n),(e=>{const n=document.querySelector(`[data-key='${e.id}']`),c=document.createElement("div");c.setAttribute("data-key",e.id),c.setAttribute("class","projDisplay"),c.addEventListener("click",(()=>{s.innerHTML=d.value})),c.innerHTML=`${e.text} <button class="delete-proj js-delete-proj">X\n        </button>`,n?t.replaceChild(c,n):t.appendChild(c)})(n)})(n),d.innerHTML="",a())}));let a=()=>{n.classList.remove("active")};o.addEventListener("click",a),e.addEventListener("click",(()=>{n.classList.add("active")}))})(),(()=>{const e=document.querySelector(".js-todo-list");let t=[],n=n=>{localStorage.setItem("todoItemsRef",JSON.stringify(t));const d=document.querySelector(`[data-key='${n.id}']`);if(n.deleted)return d.remove(),void(0===t.length&&(e.innerHTML=""));const c=n.checked?"done":"",o=document.createElement("li");o.setAttribute("class",`todo-item ${c}`),o.setAttribute("data-key",n.id),o.innerHTML=`<input id="${n.id}" type="checkbox"/>\n        <label for="${n.id}" class="tick js-tick"></label>\n        <span>${n.text}</span>\n        <button class="delete-todo js-delete-todo">\n        <svg><use href="#delete-icon"></use></svg>\n        </button>`,d?e.replaceChild(o,d):e.appendChild(o)};document.querySelector(".js-form").addEventListener("submit",(e=>{e.preventDefault();const d=document.querySelector(".js-todo-input"),c=d.value.trim();""!==c&&((e=>{const d={text:e,checked:!1,id:Date.now()};t.push(d),n(d)})(c),d.value="",d.focus())})),e.addEventListener("click",(e=>{e.target.classList.contains("js-tick")&&(e=>{const d=t.findIndex((t=>t.id===Number(e)));t[d].checked=!t[d].checked,n(t[d])})(e.target.parentElement.dataset.key),e.target.classList.contains("js-delete-todo")&&function(e){const d=t.findIndex((t=>t.id===Number(e))),c={deleted:!0,...t[d]};t=t.filter((t=>t.id!==Number(e))),n(c)}(e.target.parentElement.dataset.key)})),document.addEventListener("DOMContentLoaded",(()=>{const e=localStorage.getItem("todoItemsRef");e&&(t=JSON.parse(e),t.forEach((e=>{n(e)})))}))})()})();