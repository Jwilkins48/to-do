(()=>{"use strict";(()=>{const e=document.querySelector(".js-todo-list");let t=[],n=n=>{localStorage.setItem("todoItemsRef",JSON.stringify(t));const d=document.querySelector(`[data-key='${n.id}']`);if(n.deleted)return d.remove(),void(0===t.length&&(e.innerHTML=""));const o=n.checked?"done":"",s=document.createElement("li");s.setAttribute("class",`todo-item ${o}`),s.setAttribute("data-key",n.id),s.innerHTML=`<input id="${n.id}" type="checkbox"/>\n        <label for="${n.id}" class="tick js-tick"></label>\n        <span>${n.text}</span>\n        <button class="delete-todo js-delete-todo">\n        <svg><use href="#delete-icon"></use></svg>\n        </button>`,d?e.replaceChild(s,d):e.appendChild(s)};document.querySelector(".js-form").addEventListener("submit",(e=>{e.preventDefault();const d=document.querySelector(".js-todo-input"),o=d.value.trim();""!==o&&((e=>{const d={text:e,checked:!1,id:Date.now()};t.push(d),n(d)})(o),d.value="",d.focus())})),e.addEventListener("click",(e=>{e.target.classList.contains("js-tick")&&(e=>{const d=t.findIndex((t=>t.id===Number(e)));t[d].checked=!t[d].checked,n(t[d])})(e.target.parentElement.dataset.key),e.target.classList.contains("js-delete-todo")&&function(e){const d=t.findIndex((t=>t.id===Number(e))),o={deleted:!0,...t[d]};t=t.filter((t=>t.id!==Number(e))),n(o)}(e.target.parentElement.dataset.key)})),document.addEventListener("DOMContentLoaded",(()=>{const e=localStorage.getItem("todoItemsRef");e&&(t=JSON.parse(e),t.forEach((e=>{n(e)})))}))})()})();